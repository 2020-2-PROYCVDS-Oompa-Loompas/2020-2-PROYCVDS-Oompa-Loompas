
[main]


jdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm

dataSource = org.postgresql.ds.PGPoolingDataSource
dataSource.serverName =  ec2-23-20-70-32.compute-1.amazonaws.com
dataSource.databaseName = decigqpg9tb8ia
dataSource.portNumber = 5432
dataSource.ssl = true
dataSource.sslfactory = org.postgresql.ssl.NonValidatingFactory
dataSource.user = qcwmpnwwywpfsk
dataSource.password = c463dede95cbc843ce3298e4af86da6d9286578e8f0a07f93e52967845948c30
jdbcRealm.dataSource = $dataSource

jdbcRealm.authenticationQuery =   SELECT contrasena FROM usuario WHERE carnet = ?
jdbcRealm.userRolesQuery = SELECT tipo FROM Rol WHERE tipo = (SELECT rol FROM usuario WHERE carnet = ?)


authc.loginUrl = /paginaWeb.xhtml
roles.unauthorizedUrl = /Unauthorized.xhtml


passwordMatcher = org.apache.shiro.authc.credential.PasswordMatcher
credentialsMatcher = org.apache.shiro.authc.credential.PasswordMatcher

builtInCacheManager = org.apache.shiro.cache.MemoryConstrainedCacheManager
securityManager.cacheManager = $builtInCacheManager

validSession = edu.eci.cvds.security.Validacion 
validSession.welcomeurl = /paginaWeb.xhtml

[urls]

/faces/paginaWeb.xhtml =authc
/logout = logout
/faces/admin.xhtml = authc, roles[ADMINISTRATIVO]
/faces/usuario.xhtml = authc, roles[ESTUDIANTE]

/=validSession 
/faces/usuario.xhtml = validSession 
/faces/admin.xhtml = validSession